% !TeX root = main.tex
\usepackage[titletoc]{appendix}
\usepackage[parfill]{parskip}
\usepackage{setspace}
\usepackage[export]{adjustbox}
\usepackage{graphicx}
\usepackage[pdftex,dvipsnames]{xcolor}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{etoolbox}
\usepackage{cases}
\usepackage{xargs}
\usepackage{mdframed}
\usepackage{capt-of}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{svg}
\usepackage[most]{tcolorbox} % Add tcolorbox and breakable library
\usepackage{transparent}
\usepackage{pythonhighlight}
\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\usepackage[Lenny]{fncychap}
\usepackage[font=small,labelfont=bf]{caption}
%\usepackage[intoc]{nomencl}
%\renewcommand{\nomname}{List of Abbreviations}
%\makenomenclature
\usepackage{natbib}
\usepackage{float}
\usepackage{flafter} 
\usepackage[section]{placeins}


\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc} % set input encoding
% \usepackage{lmodern} % use the Latin Modern font
\usepackage{varwidth}
\usepackage{newfloat}
\usepackage{algpseudocodex}
% \usepackage{caption}
% \usepackage{setspace}

\usepackage{fancyhdr}
\usepackage{times}
\usepackage{gensymb}
\usepackage{dcolumn}
\usepackage{enumitem}

\usepackage[
    pdftex,
    bookmarks=true,
    % hypertexnames=false
]{hyperref}
% \usepackage[style=altsuper4colheader]{glossaries}
% \usepackage[pdftex]{hyperref}
\hypersetup{
    colorlinks,%
    citecolor=black,%
    filecolor=black,%
    linkcolor=black,%
    urlcolor=black
}
\usepackage[hyperfirst=false,style=list,acronym]{glossaries}
\usepackage[capitalize]{cleveref}
\usepackage{zref-clever}
\zcsetup{noname}
\usepackage{autonum}

% \usepackage[draft]{pdfcomment}

\glsdisablehyper
\makeglossaries

\crefname{equation}{}{}
\Crefname{equation}{Equation}{}
\crefname{figure}{Figure}{figures}
\crefname{section}{Section}{sections}
%\floatstyle{boxed} 

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\renewcommand*\contentsname{Table of Contents}

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\renewcommand{\headrulewidth}{0.1ex}
\renewcommand{\footrulewidth}{0.1ex}
\fancypagestyle{plain}{\fancyhf{}\fancyfoot[LE,RO]{\thepage}\renewcommand{\headrulewidth}{0ex}}


\DeclareMathOperator{\asin}{asin}
\DeclareMathOperator{\acos}{acos}
\DeclareMathOperator{\atan}{atan}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\unique}{unique}
\DeclareMathOperator{\coeffs}{ctrlPts}
\DeclareMathOperator{\tr}{tr}

\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,
bordercolor=red,#1]{#2}} \newcommandx{\change}[2][1=]{\todo[linecolor=blue,
backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!
25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,
bordercolor=Plum,#1]{#2}} 
\newcommandx{\emil}[2][1=]{\todo[linecolor=LimeGreen,backgroundcolor=LimeGreen!25,
bordercolor=LimeGreen,#1]{#2}}
\newcommandx{\morten}[2][1=]{\todo[linecolor=ForestGreen,backgroundcolor=ForestGreen!25,
bordercolor=ForestGreen,#1]{#2}}


%% Algorithm

\DeclareFloatingEnvironment[placement=htp]{algorithm}

\let\globalcaption=\caption

% Change caption format
\captionsetup[algorithm]{
    belowskip=0pt,
    aboveskip=0pt,
    % font=scriptsize,
    justification = raggedright,
    singlelinecheck = false,
    name = Algorithm
}

% Change width of horizontal lines 
\makeatletter
\newcommand{\algrule}[1][1pt]{\par\vskip.5\baselineskip\hrule height#1\vskip.5\baselineskip}
\makeatother


% Fix unicode characters
\DeclareUnicodeCharacter{03BC}{$\mu$} % Greek letter mu
\DeclareUnicodeCharacter{03BB}{$\lambda$} % Greek letter lambda
\DeclareUnicodeCharacter{2212}{-} % Minus sign
\DeclareUnicodeCharacter{221E}{\infty} % Infinity symbol
\DeclareUnicodeCharacter{00D8}{\O} % Danish letter O with stroke

% Add numbered property environment
\newtheorem{property}{Property}
\crefname{property}{Property}{properties}

% Add numbered example environment with standout style and indented
\theoremstyle{definition}
\newtheorem{example}{Example}[chapter]
\crefname{example}{Example}{examples}

\newenvironment{indentedexample}[1][]
    {\par\begin{example}[#1]
        \begin{mdframed}[
            linewidth=1pt,
            linecolor=black,
            bottomline=false,topline=false,rightline=false,
            innerrightmargin=0pt,innertopmargin=0pt,innerbottommargin=0pt,
            innerleftmargin=1em,% Distance between vertical rule & proof content
            skipabove=1\baselineskip % Keep space above relative to title
            % Removed skipbelow
            ]}
{\end{mdframed}\vspace{\baselineskip}\end{example}} % Add vspace after mdframed
    
% Add numbered math algorithm environment
\newtheorem{mathalgo}{Algorithm}[chapter]
\crefname{mathalgo}{Algorithm}{algorithms}

% Def eq command
\newcommand{\defeq}{\vcentcolon=}


% \patchcmd\subequations
%   {\theparentequation\alph{equation}}
%   {\subequationsformat}
%   {}{}
% \newcommand{\subequationsformat}{\theparentequation.\arabic{equation}}


\renewcommand\topfraction{.9}
\renewcommand\bottomfraction{.7}
\renewcommand\textfraction{.1}
\renewcommand\floatpagefraction{.95}

% center after minus sign
\newcolumntype{d}[1]{D{.}{\degree}{#1.-1}}

\def\vec{\mathaccent "017E\relax }